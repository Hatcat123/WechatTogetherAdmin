/** layuiAdmin.pro-v1.2.1 LPPL License By http://www.layui.com/admin/ */
 ;layui.define(function(e){layui.use(["admin","carousel"],function(){var e=layui.$,t=layui.admin,a=layui.carousel,i=layui.element,r=layui.device();e(".layadmin-carousel").each(function(){var t=e(this);a.render({elem:this,width:"100%",arrow:"none",interval:t.data("interval"),autoplay:t.data("autoplay")===!0,trigger:r.ios||r.android?"click":"hover",anim:t.data("anim")})}),i.render("progress"),n=0,timer=setInterval(function(){t.req({url:layui.setter.domain.api_system_info,type:"get",success:function(t){0==t.code?(cpu_num=t.data.cpu,memory_num=t.data.memory,cpu_num>60?e("#cpu").attr("class","layui-bg-red layui-progress-bar"):e("#cpu").attr("class","layui-progress-bar"),memory_num>60?e("#memory").attr("class","layui-bg-red layui-progress-bar"):e("#memory").attr("class","layui-progress-bar"),i.progress("component-progress-cpu",cpu_num+"%"),i.progress("component-progress-memory",memory_num+"%"),n+=1):(layer.msg(t.message),clearInterval(timer))},fail:function(){layer.msg("网络错误！"),clearInterval(timer)}}),60==n&&(clearInterval(timer),window.location.reload())},1e4+1e3*Math.random())}),layui.use(["admin","carousel","echarts"],function(){var e=layui.$,t=layui.admin,a=layui.carousel,i=layui.echarts;t.req({url:layui.setter.domain.api_log_visitor_echarts,type:"get",success:function(r){if(0==r.code){var l=[],n=[{title:{text:"今日流量趋势",x:"center",textStyle:{fontSize:14}},tooltip:{trigger:"axis"},legend:{data:["",""]},xAxis:[{type:"category",boundaryGap:!1,data:r.data.x_data}],yAxis:[{type:"value"}],series:[{name:"PV",type:"line",smooth:!0,itemStyle:{normal:{areaStyle:{type:"default"}}},data:r.data.pv_num},{name:"UV",type:"line",smooth:!0,itemStyle:{normal:{areaStyle:{type:"default"}}},data:r.data.uv_num}]},{title:{text:"访客浏览器分布",x:"center",textStyle:{fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:["Chrome","Firefox","IE 8.0","Safari","其它浏览器"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:9052,name:"Chrome"},{value:1610,name:"Firefox"},{value:3200,name:"IE 8.0"},{value:535,name:"Safari"},{value:1700,name:"其它浏览器"}]}]},{title:{text:"最近一周新增的用户量",x:"center",textStyle:{fontSize:14}},tooltip:{trigger:"axis",formatter:"{b}<br>新增用户：{c}"},xAxis:[{type:"category",data:["11-07","11-08","11-09","11-10","11-11","11-12","11-13"]}],yAxis:[{type:"value"}],series:[{type:"line",data:[200,300,400,610,150,270,380]}]}],o=e("#LAY-index-dataview").children("div"),s=function(e){l[e]=i.init(o[e],layui.echartsTheme),l[e].setOption(n[e]),t.resize(function(){l[e].resize()})},u=0;if(a.on("change(LAY-index-dataview)",function(e){s(u=e.index)}),!o[0])return;s(0)}else layer.msg(r.message)},fail:function(){layer.msg("网络错误！")}}),layui.admin.on("side",function(){setTimeout(function(){renderDataView(carouselIndex)},300)}),layui.admin.on("hash(tab)",function(){layui.router().path.join("")||renderDataView(carouselIndex)})}),layui.use("table",function(){var e=(layui.$,layui.table);e.render({elem:"#LAY-index-topSearch",url:layui.setter.domain.api_top_search,page:!0,cols:[[{type:"numbers",fixed:"left"},{field:"keywords",title:"关键词",minWidth:300,templet:'<div><a href="https://www.baidu.com/s?wd={{ d.keywords }}" target="_blank" class="layui-table-link">{{ d.keywords }}</div>'},{field:"frequency",title:"搜索次数",minWidth:120,sort:!0},{field:"userNums",title:"用户数",sort:!0}]],skin:"line"}),e.render({elem:"#LAY-index-topCard",url:layui.setter.domain.api_top_article,page:!0,cellMinWidth:120,cols:[[{type:"numbers",fixed:"left"},{field:"title",title:"标题",minWidth:300,templet:'<div><a href="{{ d.url }}" target="_blank" class="layui-table-link">{{ d.title }}</div>'},{field:"author",title:"作者"},{field:"account_name",title:"公众号"},{field:"publish_time",title:"时间",sort:!0}]],skin:"line"})}),e("console",{})});